import{_ as t,o as s,c as a,b as n,a as p}from"./app.32e78ad4.js";const o={},c=p('<h4 id="\u7B80\u4ECB" tabindex="-1"><a class="header-anchor" href="#\u7B80\u4ECB" aria-hidden="true">#</a> \u7B80\u4ECB</h4><ul><li><p>\u5B9A\u4E49\uFF1A\u5B9A\u4E49\u5BF9\u8C61\u95F4\u7684\u4E00\u79CD\u4E00\u5BF9\u591A\u7684\u4F9D\u8D56\u5173\u7CFB\uFF0C\u5F53\u4E00\u4E2A\u5BF9\u8C61\u7684\u72B6\u6001\u53D1\u751F\u6539\u53D8\u65F6\uFF0C\u6240\u6709\u4F9D\u8D56\u4E8E\u5B83\u7684\u5BF9\u8C61\u90FD\u5F97\u5230\u901A\u77E5\u5E76\u88AB\u81EA\u52A8\u66F4\u65B0\u3002</p></li><li><p>\u4E3B\u8981\u89E3\u51B3\uFF1A\u4E00\u4E2A\u5BF9\u8C61\u72B6\u6001\u6539\u53D8\u7ED9\u5176\u4ED6\u5BF9\u8C61\u901A\u77E5\u7684\u95EE\u9898\uFF0C\u800C\u4E14\u8981\u8003\u8651\u5230\u6613\u7528\u548C\u4F4E\u8026\u5408\uFF0C\u4FDD\u8BC1\u9AD8\u5EA6\u7684\u534F\u4F5C\u3002</p></li><li><p>\u4F55\u65F6\u4F7F\u7528\uFF1A\u4E00\u4E2A\u5BF9\u8C61\uFF08\u76EE\u6807\u5BF9\u8C61\uFF09\u7684\u72B6\u6001\u53D1\u751F\u6539\u53D8\uFF0C\u6240\u6709\u7684\u4F9D\u8D56\u5BF9\u8C61\uFF08\u89C2\u5BDF\u8005\u5BF9\u8C61\uFF09\u90FD\u5C06\u5F97\u5230\u901A\u77E5\uFF0C\u8FDB\u884C\u5E7F\u64AD\u901A\u77E5\u3002</p></li><li><p>\u5982\u4F55\u89E3\u51B3\uFF1A\u4F7F\u7528\u9762\u5411\u5BF9\u8C61\u6280\u672F\uFF0C\u53EF\u4EE5\u5C06\u8FD9\u79CD\u4F9D\u8D56\u5173\u7CFB\u5F31\u5316\u3002</p></li><li><p>\u5173\u952E\u4EE3\u7801\uFF1A\u5BF9\u4E8E\u67D0\u4E00\u4E2Atopci\u7528\u6570\u7EC4\u5B58\u653E\u8BA2\u9605\u8005.</p></li><li><p>\u5E94\u7528\u5B9E\u4F8B\uFF1A 1\u3001\u62CD\u5356\u7684\u65F6\u5019\uFF0C\u62CD\u5356\u5E08\u89C2\u5BDF\u6700\u9AD8\u6807\u4EF7\uFF0C\u7136\u540E\u901A\u77E5\u7ED9\u5176\u4ED6\u7ADE\u4EF7\u8005\u7ADE\u4EF7\u3002 2\u3001\u897F\u6E38\u8BB0\u91CC\u9762\u609F\u7A7A\u8BF7\u6C42\u83E9\u8428\u964D\u670D\u7EA2\u5B69\u513F\uFF0C\u83E9\u8428\u6D12\u4E86\u4E00\u5730\u6C34\u62DB\u6765\u4E00\u4E2A\u8001\u4E4C\u9F9F\uFF0C\u8FD9\u4E2A\u4E4C\u9F9F\u5C31\u662F\u89C2\u5BDF\u8005\uFF0C\u4ED6\u89C2\u5BDF\u83E9\u8428\u6D12\u6C34\u8FD9\u4E2A\u52A8\u4F5C\u3002</p></li><li><p>\u4F18\u70B9\uFF1A 1\u3001\u89C2\u5BDF\u8005\u548C\u88AB\u89C2\u5BDF\u8005\u662F\u62BD\u8C61\u8026\u5408\u7684\u3002 2\u3001\u5EFA\u7ACB\u4E00\u5957\u89E6\u53D1\u673A\u5236\u3002</p></li><li><p>\u7F3A\u70B9\uFF1A 1\u3001\u5982\u679C\u4E00\u4E2A\u88AB\u89C2\u5BDF\u8005\u5BF9\u8C61\u6709\u5F88\u591A\u7684\u76F4\u63A5\u548C\u95F4\u63A5\u7684\u89C2\u5BDF\u8005\u7684\u8BDD\uFF0C\u5C06\u6240\u6709\u7684\u89C2\u5BDF\u8005\u90FD\u901A\u77E5\u5230\u4F1A\u82B1\u8D39\u5F88\u591A\u65F6\u95F4\u3002 2\u3001\u5982\u679C\u5728\u89C2\u5BDF\u8005\u548C\u89C2\u5BDF\u76EE\u6807\u4E4B\u95F4\u6709\u5FAA\u73AF\u4F9D\u8D56\u7684\u8BDD\uFF0C\u89C2\u5BDF\u76EE\u6807\u4F1A\u89E6\u53D1\u5B83\u4EEC\u4E4B\u95F4\u8FDB\u884C\u5FAA\u73AF\u8C03\u7528\uFF0C\u53EF\u80FD\u5BFC\u81F4\u7CFB\u7EDF\u5D29\u6E83\u3002 3\u3001\u89C2\u5BDF\u8005\u6A21\u5F0F\u6CA1\u6709\u76F8\u5E94\u7684\u673A\u5236\u8BA9\u89C2\u5BDF\u8005\u77E5\u9053\u6240\u89C2\u5BDF\u7684\u76EE\u6807\u5BF9\u8C61\u662F\u600E\u4E48\u53D1\u751F\u53D8\u5316\u7684\uFF0C\u800C\u4EC5\u4EC5\u53EA\u662F\u77E5\u9053\u89C2\u5BDF\u76EE\u6807\u53D1\u751F\u4E86\u53D8\u5316\u3002</p></li></ul><h4 id="\u4F7F\u7528\u573A\u666F" tabindex="-1"><a class="header-anchor" href="#\u4F7F\u7528\u573A\u666F" aria-hidden="true">#</a> \u4F7F\u7528\u573A\u666F\uFF1A</h4><ol><li>\u4E00\u4E2A\u62BD\u8C61\u6A21\u578B\u6709\u4E24\u4E2A\u65B9\u9762\uFF0C\u5176\u4E2D\u4E00\u4E2A\u65B9\u9762\u4F9D\u8D56\u4E8E\u53E6\u4E00\u4E2A\u65B9\u9762\u3002\u5C06\u8FD9\u4E9B\u65B9\u9762\u5C01\u88C5\u5728\u72EC\u7ACB\u7684\u5BF9\u8C61\u4E2D\u4F7F\u5B83\u4EEC\u53EF\u4EE5\u5404\u81EA\u72EC\u7ACB\u5730\u6539\u53D8\u548C\u590D\u7528\u3002</li><li>\u4E00\u4E2A\u5BF9\u8C61\u7684\u6539\u53D8\u5C06\u5BFC\u81F4\u5176\u4ED6\u4E00\u4E2A\u6216\u591A\u4E2A\u5BF9\u8C61\u4E5F\u53D1\u751F\u6539\u53D8\uFF0C\u800C\u4E0D\u77E5\u9053\u5177\u4F53\u6709\u591A\u5C11\u5BF9\u8C61\u5C06\u53D1\u751F\u6539\u53D8\uFF0C\u53EF\u4EE5\u964D\u4F4E\u5BF9\u8C61\u4E4B\u95F4\u7684\u8026\u5408\u5EA6\u3002</li><li>\u4E00\u4E2A\u5BF9\u8C61\u5FC5\u987B\u901A\u77E5\u5176\u4ED6\u5BF9\u8C61\uFF0C\u800C\u5E76\u4E0D\u77E5\u9053\u8FD9\u4E9B\u5BF9\u8C61\u662F\u8C01\u3002</li><li>\u9700\u8981\u5728\u7CFB\u7EDF\u4E2D\u521B\u5EFA\u4E00\u4E2A\u89E6\u53D1\u94FE\uFF0CA\u5BF9\u8C61\u7684\u884C\u4E3A\u5C06\u5F71\u54CDB\u5BF9\u8C61\uFF0CB\u5BF9\u8C61\u7684\u884C\u4E3A\u5C06\u5F71\u54CDC\u5BF9\u8C61\u2026\u2026\uFF0C\u53EF\u4EE5\u4F7F\u7528\u89C2\u5BDF\u8005\u6A21\u5F0F\u521B\u5EFA\u4E00\u79CD\u94FE\u5F0F\u89E6\u53D1\u673A\u5236\u3002</li></ol>',4),e={class:"custom-container tip"},u={viewBox:"0 0 25 25",xmlns:"http://www.w3.org/2000/svg","xml:space":"preserve",style:{"fill-rule":"evenodd","clip-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"2"}},l=n("path",{d:"M297.6 258.73H296c-59.47.87-110.69 51.45-111.83 110.43-.626 36.485 16.525 71.085 45.94 92.68 17.86 13.18 29.88 33.56 33.77 56.42h67.62c4-22.82 16.13-43.3 34.16-56.74 28.589-21.097 45.496-54.587 45.496-90.118 0-30.03-12.078-58.833-33.496-79.882a113.133 113.133 0 0 0-80.06-32.79ZM265.19 550.7v26.6c0 4.84 1.17 6.43 1.17 6.43l63.72-.59V550.7h-64.89Z",style:{fill:"#48b884","fill-rule":"nonzero"},transform:"matrix(.042 0 0 .042 0 -5.178)"},null,-1),i=n("path",{d:"M297.64 123.3C133.26 123.3 0 256.56 0 420.94s133.26 297.63 297.64 297.63 297.63-133.25 297.63-297.63S462 123.3 297.64 123.3ZM385 487.57c-14.11 10.48-22.51 28.09-22.51 47.14v48.43c-.016 17.792-14.648 32.428-32.44 32.45h-64.86c-15.6 0-32.44-12-32.44-38.29v-42.82c0-19-8.21-36.4-21.93-46.52-37.882-27.85-59.959-72.44-59.14-119.45 1.46-77.24 66-141.09 143.81-142.22 38.87.19 76.89 14.37 105 42.11a143.764 143.764 0 0 1 43.14 103c-.159 45.761-21.911 88.86-58.63 116.17Z",style:{fill:"#48b884","fill-rule":"nonzero"},transform:"matrix(.042 0 0 .042 0 -5.178)"},null,-1),k=[l,i],r=n("p",{class:"custom-container-title"},"TIP",-1),d=n("p",null,"\u6CE8\u610F\u4E8B\u9879\uFF1A 1\u3001\u907F\u514D\u5FAA\u73AF\u5F15\u7528\u3002 2\u3001\u5982\u679C\u987A\u5E8F\u6267\u884C\uFF0C\u67D0\u4E00\u89C2\u5BDF\u8005\u9519\u8BEF\u4F1A\u5BFC\u81F4\u7CFB\u7EDF\u5361\u58F3\uFF0C\u4E00\u822C\u91C7\u7528\u5F02\u6B65\u65B9\u5F0F\u3002",-1),b=p(`<h4 id="\u4EE3\u7801\u5B9E\u73B0" tabindex="-1"><a class="header-anchor" href="#\u4EE3\u7801\u5B9E\u73B0" aria-hidden="true">#</a> \u4EE3\u7801\u5B9E\u73B0</h4><div class="language-javascript ext-js"><pre class="language-javascript"><code><span class="token comment">/*
 *\u53D1\u5E03-\u8BA2\u9605\u6A21\u5F0F\uFF08\u89C2\u5BDF\u8005\u6A21\u5F0F\uFF09
 */</span>
<span class="token keyword">function</span> <span class="token function">pubsub</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> _pubsub <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token comment">//\u5168\u5C40\u5BF9\u8C61\uFF0C\u5373\u53D1\u5E03\u8BA2\u9605\u5BF9\u8C61</span>
    _topics <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token comment">// \u56DE\u8C03\u51FD\u6570\u5B58\u653E\u7684\u6570\u7EC4</span>
    _subUid <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

  <span class="token comment">// \u53D1\u5E03\u65B9\u6CD5</span>
  _pubsub<span class="token punctuation">.</span><span class="token function-variable function">publish</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">topic</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>_topics<span class="token punctuation">[</span>topic<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">var</span> args <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>arguments<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">var</span> subscribers <span class="token operator">=</span> _topics<span class="token punctuation">[</span>topic<span class="token punctuation">]</span><span class="token punctuation">;</span>
      <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> j <span class="token operator">=</span> subscribers<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i <span class="token operator">&lt;</span> j<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        subscribers<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">callback</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">,</span> args<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token comment">//\u8BA2\u9605\u65B9\u6CD5</span>
  _pubsub<span class="token punctuation">.</span><span class="token function-variable function">subscribe</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">topic<span class="token punctuation">,</span> callback</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>_topics<span class="token punctuation">[</span>topic<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      _topics<span class="token punctuation">[</span>topic<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">var</span> token <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token operator">++</span>_subUid<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    _topics<span class="token punctuation">[</span>topic<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">token</span><span class="token operator">:</span> token<span class="token punctuation">,</span>
      <span class="token literal-property property">callback</span><span class="token operator">:</span> callback
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> token<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token comment">//\u9000\u8BA2\u65B9\u6CD5</span>
  _pubsub<span class="token punctuation">.</span><span class="token function-variable function">unsubscribe</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">token</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> m <span class="token keyword">in</span> _topics<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>_topics<span class="token punctuation">[</span>m<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> j <span class="token operator">=</span> _topics<span class="token punctuation">[</span>m<span class="token punctuation">]</span><span class="token punctuation">.</span>length<span class="token punctuation">;</span> i <span class="token operator">&lt;</span> j<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword">if</span> <span class="token punctuation">(</span>_topics<span class="token punctuation">[</span>m<span class="token punctuation">]</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>token <span class="token operator">===</span> token<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            _topics<span class="token punctuation">[</span>m<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">return</span> token<span class="token punctuation">;</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">subscribe</span><span class="token operator">:</span> _pubsub<span class="token punctuation">.</span>subscribe<span class="token punctuation">,</span>
    <span class="token literal-property property">publish</span><span class="token operator">:</span> _pubsub<span class="token punctuation">.</span>publish<span class="token punctuation">,</span>
    <span class="token literal-property property">unsubscribe</span><span class="token operator">:</span> _pubsub<span class="token punctuation">.</span>unsubscribe
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div>`,2);function _(f,m){return s(),a("div",null,[c,n("div",e,[(s(),a("svg",u,k)),r,d]),b])}var y=t(o,[["render",_],["__file","index.html.vue"]]);export{y as default};
